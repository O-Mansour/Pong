const  langData = ({
        en: {
                selectLanguage: "Select language",
                changePicture: "Change Picture",
                logout: "Logout",
                changeAccount: "Change Account<br />Informations",
                firstName: "First",
                lastName: "Last",
                username: "Username",
                email: "Email",
                update: "Update",
                changePassword: "Change Password",
                oldPassword: "Old Password",
                newPassword: "New Password", 
                matchesPlayed: "Matches Played",
                winningMatches: "Winning Matches",
                welcomeMessage: "Welcome,",
                loss_1: "Loss",
                win_2: "Win",
                yourRank: "Your Rank",
                totalPlayers: "Total Players",
                notcat:"Notifications",
                Acpbutton:"Accept",
                rejectbutton:"Reject",
                joined: "Joined",
                tournamentsPlayed: "Tournaments Played",
                tournamentsWon: "Tournaments Won",
                leaderboardPosition: "Leaderboard Position",
                currentFriends: "Current Friends",
                level: "Level ",
                playPong:"Play Pong Online on the #1 Site!",
                friendsList: "Friends List",
                matchHistory: "Match History",
                login: "Login",
                "welcome-back": "Welcome back!",
                password_login: "Password",
                "remember-me": "Remember me",
                "login-button": "Login",
                "forgot-password": "Forgot password?",
                or: "Or",
                "sign-in-intra": "Sign in with intra",
                "dont-have-account": "Don’t have an account?",
                "signup-link": "Signup",
                "signup": "Signup",
                "signup-details": "Just some details to get you in ...",
                password_signup: "Password",
                "confirm-password": "Confirm password",
                "signup-button": "Signup",
                "already-registered": "Already registered?",
                "login-link": "Login",
                modeSelection: "Mode selection game",
                classicGame: "Classic Game",
                singleGame: "1 Versus 1",
                tournament: "Tournament",
                playTournament: "Play a tournament",
                myProfile: "My Profile",
                challenge: "Challenge",
                pending: "Pending...",
                accept: "Accept",
                addFriend: "Add Friend",
                notRankedYet: "Not ranked yet",
                changefriend: "Challenge",
                totalGames: "Total Games",
                gamesToday: "Games Today",
                onlineNow: "Online Now",
                friendsTitle: "Wants to be your friend",
                login_link: "Login",
                login_error: "Invalid credentials"
        },
        fr: {
                selectLanguage: "Choisissez une langue",
                changePicture: "Changer l'image",
                logout: "déconnecter",
                changeAccount: "Modifier les Informations<br/>du compte",
                update: "Mettre à jour",
                changePassword: "Changer le mot de passe",
                oldPassword: "Ancien mot de passe",
                newPassword: "Nouveau mot de passe",
                gameSettings: "Paramètres de jeu",
                change: "Changer",
                welcomeMessage: "Bienvenue,",
                level: "Niveau ",
                settings: "Paramètres",
                playNow: "Jouer",
                notifications: "Notifications",
                playPong: "Jouez Pong en ligne sur le site #1!",
                totalGames: "Total des jeux",
                gamesToday: "Jeux Aujourd'hui",
                onlineNow: "En ligne maintenant",
                matchesPlayed: "Matchs joués",
                winningMatches: "Matchs gagnants",
                loss_1: "Perte",
                win_2: "Gagner",
                yourRank: "Votre classement",
                totalPlayers: "Nombre total de joueurs",
                notcat: "Notifications",
                Acpbutton: "Accepter",
                rejectbutton: "Rejeter",
                joined: "Rejoint",
                tournamentsPlayed: "Tournois joués",
                tournamentsWon: "Tournois gagnés",
                leaderboardPosition: "Votre classement",
                currentFriends: "Amis actuels",
                friendsList: "Liste d'amis",
                matchesPlayed: "Matchs joués",
                winningMatches: "Matchs gagnés",
                matchHistory: "Historique des matchs",
                login: "Connexion",
                "welcome-back": "Bon retour!",
                username: "Nom d'utilisateur",
                password: "Mot de passe",
                "remember-me": "Se souvenir de moi",
                "login-button": "Se connecter",
                "forgot-password": "Mot de passe oublié?",
                or: "Ou",
                "sign-in-intra": "Se connecter avec Intra",
                "dont-have-account": "Vous n'avez pas de compte?",
                "signup-link": "S'inscrire",
                signup: "Inscription",
                "signup-details": "Quelques détails pour vous inscrire...",
                username: "Nom d'utilisateur",
                email: "Email",
                password: "Mot de passe",
                "confirm-password": "Confirmer le mot de passe",
                "signup-button": "S'inscrire",
                "already-registered": "Déjà inscrit?",
                "login-link": "Se connecter",
                forgot_password_title: "Mot de passe oublié ?",
                forgot_password_subtitle: "Encore ? Voyons si nous pouvons arranger ça.",
                enter_email: "Entrez votre email",
                reset_password_button: "Réinitialiser le mot de passe",
                or_text: "Ou",
                sign_in_intra: "Se connecter avec intra",
                signup_prompt: "Pas de compte ?",
                signup_link: "Inscrivez-vous",
                modeSelection: "Sélection du mode de jeu",
                classicGame: "Jeu classique",
                singleGame: "1 Contre 1",
                tournament: "Tournoi",
                playTournament: "Jouer un tournoi",
                myProfile: "Mon Profil",
                challenge: "Défi",
                pending: "En attente",
                accept: "Accepter",
                addFriend: "Ajouter",
                notRankedYet: "Pas encore classé",
                changefriend: "Défi",
                friendsTitle:"Veut être votre amie",
                password_login:"Mot de passe",
                password_signup: "Mot de passe",
                login_link: "Se connecter",
                login_error:"Identifiants invalides"
        },
        es: {
                selectLanguage: "Seleccionar idioma",
                changePicture: "Cambiar imagen",
                logout: "Cerrar sesión",
                changeAccount: "Cambiar cuenta<br />Información",
                firstName: "Nombre",
                lastName: "Apellido",
                username: "Nombre de usuario",
                email: "Correo electrónico",
                update: "Actualizar",
                changePassword: "Cambiar contraseña",
                oldPassword: "Contraseña antigua",
                newPassword: "Nueva contraseña",
                gameSettings: "Configuración del juego",
                change: "Cambiar",
                welcomeMessage: "Bienvenido,",
                level: "Nivel ",
                settings: "Configuración",
                playNow: "Jugar Ahora",
                notifications: "Notificaciones",
                playPong: "¡Juega Pong en línea en el sitio #1!",
                totalGames: "Juegos Totales",
                gamesToday: "Juegos de Hoy",
                onlineNow: "En línea Ahora",
                matchesPlayed: "Partidos Jugados",
                winningMatches: "Partidos Ganados",
                loss_1: "Pérdida",
                win_2: "Victoria",
                yourRank: "Tu Clasificación",
                totalPlayers: "Jugadores Totales",
                notcat: "Notificaciones",
                Acpbutton: "Aceptar",
                rejectbutton: "Rechazar",
                joined: "se unió",
                tournamentsPlayed: "Torneos jugados",
                tournamentsWon: "Torneos ganados",
                leaderboardPosition: "Posición en la tabla",
                currentFriends: "Amigos actuales",
                friendsList: "Lista de amigos",
                matchesPlayed: "Partidos jugados",
                winningMatches: "Partidos ganados",
                loss: "Derrota",
                win: "Victoria",
                matchHistory: "Historial de partidos",
                login: "Iniciar sesión",
                "welcome-back": "¡Bienvenido de nuevo!",
                username: "Nombre de usuario",
                password: "Contraseña",
                "remember-me": "Recuérdame",
                "login-button": "Iniciar sesión",
                "forgot-password": "¿Olvidaste tu contraseña?",
                or: "O",
                "sign-in-intra": "Iniciar sesión con Intra",
                "dont-have-account": "¿No tienes cuenta?",
                "signup-link": "Regístrate",
                signup: "Registrarse",
                "signup-button": "Registrarse",
                modeSelection: "Selección de modo de juego",
                classicGame: "Juego clásico",
                singleGame: "1 Contra 1",
                tournament: "Torneo",
                playTournament: "Jugar un torneo",
                myProfile: "Mi Perfil",
                challenge: "Desafiar",
                pending: "Pendiente...",
                accept: "Aceptar",
                addFriend: "Agregar",
                notRankedYet: "No clasificado aún",
                changefriend: "Desafiar",
                friendsTitle:"Quiere ser tu amigoa",
                password_login: "Contraseña",
                "confirm-password": "Confirmar contraseña",
                password_signup: "Contraseña",
                "login-link": "Iniciar sesión",
                 "already-registered":"¿Ya estás registrado",
                 "signup-details":"Solo algunos detalles para que puedas entrar",
                login_error: "Credenciales inválidas"
        },
});


//localStorage.setItem('lang', 'en'); is a JavaScript command used to store a key-value pair in the browser's local storage
//localStorage.setItem(key, value);
//localStorage is a Web Storage API that allows you to store data locally in the user's browser
//Data stored in localStorage does not expire. It remains available even after the browser is closed and reopened

// .? => Allows the application to handle missing data gracefully without crashing
//Without ?., trying to access a property of undefined would throw an error like:
//Cannot read properties of undefined (reading 'key')

//Why use ?.:
//If langData[currLang] (e.g., langData["en"]) does not exist, the optional chaining operator ?.
// ensures no error is thrown.
//Instead, it returns undefined.

//If the key is "welcomeMessage" and langData[currLang]?.["welcomeMessage"] is undefined, 
//the displayed text will be "welcomeMessage".

async function updateLanguageContent() {
        let currLang = localStorage.getItem('lang') || 'en';
        if (localStorage.getItem('access_token'))
        {
            try {
                const response = await fetch('http://localhost:8000/api/profiles/me/', {
                  headers: {
                    'Authorization': `JWT ${localStorage.getItem('access_token')}`
                  }
                });
                if (!response.ok)
                // console.log(`Failed to fetch profile: ${response.status}`);
                  alertMessage('Failed to fetch profile.',"alert-danger");
               
                const data = await response.json();
                currLang = data.language;
                localStorage.setItem('lang', currLang);
            } catch (error) {
                // console.log("Error fetching language :", error);
                alertMessage(error.message);
            }
        }
      
        const elements = document.querySelectorAll("[data-i18n]");
        elements.forEach((el) => {
          const key = el.getAttribute("data-i18n");
          if (key) 
                el.innerHTML = langData[currLang]?.[key] || key;
        });
      
       
        const placeholders = document.querySelectorAll("[data-i18n-placeholder]");
        placeholders.forEach((input) => {
          const key = input.getAttribute("data-i18n-placeholder");
          if (key)
                 input.placeholder = langData[currLang]?.[key] || key;
        });

        const buttons = document.querySelectorAll("[data-i18n-button]");
        buttons.forEach((btn) => {
          const key = btn.getAttribute("data-i18n-button");
          if (key)
                btn.textContent = langData[currLang]?.[key] || key;
        });
        // console.log("Language content updated!");
      }
      
export default updateLanguageContent;

